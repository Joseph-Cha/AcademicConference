# 2장 실용주의 접근법

### Topic 8. 좋은 설계의 핵심

요번 Topic은 아래 Tip으로 요약이 가능할 것 같다.

> 좋은 설계는 나쁜 설계보다 바꾸기 쉽다.
> 

결국 바꾸기 더 쉽게 만드는 것이 좋은 설계라는 간단 명료한(하지만 어려운) 결론을 내주었다.

하지만 여기서 `바꾸기`라는 뜻에 `추가하기`를 덧붙이고 싶다.  바꾼다는 의미에 어쩌면 추가라는 의미가 포함될 수 있지만 조금 더 명확하게 `추가`라는 의미를 전달하고 싶어서 굳이 남겼다.

최근에 UI 페이지를 쉽게 이동하고 또 이전 페이지로 되돌아오는 기능을 구현하기 Page Transition System을 설계하고 구현을 해보았는데, 새로운 페이지를 추가하기 쉽게 구현이 되어 있고 이런 저런 기능을 덧붙이기가 쉬워서 그런지 `추가`라는 단어의 의미를 많이 생각하게 되었고 이를 좋은 설계로도 연결지어 생각하게 되었다.

그리고 더 나아가서 결국 데이터를 어떻게 하면 잘 그리고 쉽게 다룰 수 있게 만드는 것도 중요한 포인트인 것 같다.

다시 책으로 돌아와서 다소 흥미로운 포인트는 앞으로 어떤 모습으로 바뀔지 `예측`이 되지 않더라도 일단 선택을 하고 해당 선택을 하게된 배경을 기록해서 향후 내가 한 예측과 어떻게 달라졌는지를 비교하는 과정을 거쳐보라는 조언이다.

단순히 설계를 할 뿐만 아니라 어떤 배경 그리고 어떤 생각을 가지고 이렇게 설계를 했는지 기록을 해보는 것도 좋은 피드백 토대가 될 것 같다.

Q) 혹시 본인이 설계를 했던 모듈(또는 기능 등) 중에 정말 잘 만들었다고 생각하는 모듈이 있을까요? 

그렇게 생각한 이유는 무엇인가요?

### Topic 9. 중복의 해악

> Don’t Repeat Yourself
> 

중복이 안좋다는 이야기는 이미 귀에 딱지가 생길 만큼 많이 들었다.

다만 조금 신기했던 건 단순히 코드의 반복을 피하는 것만 이야기 하는 것 뿐만 아니라 지식과 의도의 중복 또한 피해야 한다는 부분이었다.

의도의 중복은 논리적으로 반복되는 패턴을 만들지 말아야한다는 의미 정도로 해석이 가능한 것 같은데 지식의 중복의 경우는 직관적으로 이해가 잘 안된다.

무튼 해당 Topic에서 이야기하는 중복의 종류는 크게 아래와 같다.

- 코드 중복
- 문서화 중복
- 데이터 중복
- 표현상 중복
- 개발자간 중복

대부분은 고개를 끄덕이면서 읽어나갔지만 표현상의 중복 부분이 도통 이해가 되지 않는다;;

백엔드 단에서 발생할 수 있는 중복을 이야기 하는 것 같긴 한데,, 웹 서버를 너무 수박 겉핥기 정도로만 알아서 이해가 되지가 않는다(혹시 간단하게라도 설명을 해주신다면 많은 배움을 얻을 수 있을 것 같습니다 :D)

무튼 위에서 언급한 5가지 범주 중에 특히 인상 깊었던 부분은 개발자 간 중복이다.

협업은 하지만 각자 다른 기능을 맡아서 구현을 하기 때문에 상대방이 작성한 코드를 굳이 살펴보지 않는다. 저자 또한 이러한 경험이 많이 있었는지 의사 소통의 중요성을 언급하고 있다.

의사소통도 물론 중요하지만 현실적으로 코드 리뷰를 도입하는 것이 더 좋아보인다. 적어도 상대방의 코드를 “의도적”으로 볼 수 있기 때문에 해당 코드를 구현하면서 사용한 메서드 또는 모듈을 눈여겨 볼 수 있고 상황에 따라 재활용도 할 수 있을 것 같다.

내가 목소리를 낼 수 있는 순간이 올 때 꼭 코드 리뷰 도입을 요청 해야겠다.

Q) 각자가 애용하는 중복 방지 팁이 있을까요? 

제가 개인적으로 중복을 방지하기 위해 애용하는 방법은  반복되는 특정 기능을 Helper Class에서 static method로 뽑는 것 입니다. 정적 데이터를 사용하는 것이 아니라 정말 특정 기능만 담당하는 Method를 만들어서 다양한 class에서 사용하는 방법을 애용하고 있습니다.

### Topic 10. 직교성

의존성을 줄이기를 `직교성`이라는 단어로 표현한 것이 신선했다. 

의존성을 줄이는 것이 좋다는 이야기 또한 많이 들어보았지만 아직까지 피부에 와닿을 만큼 의존성을 줄였을 때의 장점을 느껴본 적은 없었다.

단지 좋다고 해서 무작정 따라하려고 노력하는 느낌에 더 가까운 것 같다(그렇다고 무작정 잘 따라하는지도 확실하진 않다). 

언젠가 멘토님이 객체지향을 진정으로 이해하려면 “도를 닦는다”는 마인드로 임해야 한다고 했는데 이 말을 곰곰이 곱씹어 보면 볼 수록 맞는 말 같다. 이러한 개념에 담겨 있는 심오한(?) 뜻을 이해하려면 아직 내공이 많이 부족한 느낌이다. 

이렇게 다른 말을 적는 이유는 사실 잘 이해가 안되서..🤣 그냥 아는 척을 하는 것보다 모른다고 솔직 담백하게 말하는 것이 더 좋다고 스스로 위안을 해본다(무지를 드러내라 패턴 활용!!!)

하지만 이렇게 끝내면 다소 아쉬우니 연습문제까지는 풀어보자..

연습문제 1.

어느 클래스가 직교적인지를 구분하는 판단 기준을 아직은 잘 모르겠지만 사용하는 입장에서 n번째 라인의 m번째 필드를 읽기 편한 방식은 2번째 방식이라고 생각한다.

단, 각 라인의 정보들을 들고 있는 저장소(즉, `Split2`들의 저장소)가 있다는 가정하 말이다.

더불어 자기 자신이 어느 라인인지 Split2의 속성 값으로 가지고 있다면 Hash map으로 각 라인의 정보를 관리 할 수도 있을 것 같다.

무튼 각 라인의 데이터를 별도로 관리하는 것이 조금 더 확장성이 좋지 않을까 싶다.

### Topic 11. 가역성

> 무언가를 구현하는 데는 항상 여러 가지 길이 있다.
> 

정말 심플한 문장이지만 개인적으로 일단 한 가지 방법이라도 좋으니 구현부터 해보자 정도의 수준이기 때문에 아직 갈길이 멀다.

다만 “이것은 이 방법으로만 해결할 수 있어”와 같은 근시안적인 생각은 항상 조심해야겠다는 생각을 품고 넘어간다.

### Topic 12. 예광탄

여기서 말하는 핵심은 만들어야하는 시스템에서 가장 핵심되는 기능을 눈에 보이는 제품으로 일단 만드는 것을 의미하는 것 같다. 

이렇게 만드는 과정에서 DB에서부터 UI 단까지 일단 한 가지 핵심 기능을 구현하기 위해 여러 계층을 연결해서 당장에 필요한 서비스를 만들어보는 것이 핵심인 것 같다.

이렇게 핵심 기능을 만들어서 사용자에게 제공함으로 사용자가 원하는 것이 맞는지 검증 과정 또한 역시 핵심인 것 같다.

요 부분에서 개인적으로 아차 싶었다. 현재 진행하고 있는 개인 프로젝트에서 설계부터 시작해서 차근차근 폭포수 모델로 서비스를 완성해보려고 했었는데 일단 한 가지 핵심 시나리오를 기반으로 동작되는 서비스를 만들고 그 후 차근차근 살을 붙여나가는 방식을 사용했어야 했다. 

살짝 아쉽기는 하지만 지금이라도 깨달았으니 바로 요번주부터 적용을 해보아야겠다!

### Topic 13. 프로토타입과 포스트잇

이번에 만든 서비스가 프로토타입이라고 생각했는데 오히려 이 책 기준에서는 예광탄에 더 가까운 것 같다.

여기서 말하는 프로토 타입은 말 그대로 PoC 정도의 개념인 것 같다.

말 그대로 쓰고 버리는 한이 있더라도 빠르게 원하는 기능을 구현해보면서 현실 가능성을 체크해보는 정도로 이해하면 될 것 같다.

더 나아가 아키텍처 프로토 타이핑이 나오는데 아직 설계를 깊이 있게 해보지 않아서 잘 이해가 되지는 않았다.

### Topic 14. 도메인 언어

### 도메인 특화 언어

처음 읽었을 때는 “대체 이게 먼 소리지?”가 육성으로 나올 만큼 무슨 말을 하는지 당최 이해가 안됐다. 물론 2번째 읽었을 때도 이해가 안돼서 구글을 해보니 도메인 특화 언어가 있다는 것을 그제서야 깨달았다. 

[https://tasyblue.blogspot.com/2005/09/domain-specific-language.html?m=1](https://tasyblue.blogspot.com/2005/09/domain-specific-language.html?m=1)

나름 설명이 잘 되어 있는 블로그 글을 찾았는데 사실 봐도 잘 모르겠다.

2장은 정말 모르는 것 투성이라 모르겠다는 말을 몇 번이나 한 줄 모르겠다...

세삼 이번 장을 읽고 700라인 작성한 멘토님이 그저 대단하다고 세삼 느끼는 중.......

### Topic 15. 추정

추청치를 산출하는 기술에 대한 내용들이 나오는데 잘 기록해놓았다가 나중에 써먹을 기회가 있으면 좋을 것 같단 생각이 들었다.

추정은 단순히 직관에 의존하는 것이라고 생각했었는데 이번 Topic을 쭉 읽으면서 추정 또한 기예라는 것을 깨달았다. 보다 디테일한 추정 방법은 아래와 같다.

원칙 1. 누군가가 추정치를 물었을 때 이 추정치가 사용될 배경을 알아야 한다.

⇒ 높은 정확도를 요구하는지, 단순히 큰 그림을 요구하는 것인지 파악

⇒ 사용하는 단위에 따라 해석의 차이를 가져올 수 있다.

- 1 ~ 15일: 일
- 3 ~ 6주: 주
- 8 ~ 20주: 달
- 20주 이상: 추정치를 말하기 전에 다시 한번 생각 해보기

⇒ 즉 125근무일 정도 예측을 한다면 대력 여섯 달로 표현하는 것이 좋다.

원칙 2. 이미 그 일을 해본 사람에게 물어보자.

⇒ 현실적으로 비슷한 일을 해본 사람을 찾기가 쉽진 않을 것 같다.

원칙 3. 상대방이 무엇을 묻고 있는지 파악하는 것과 더불어 어떤 전재 조건이 필요한지 생각해보자.

원칙 4. 상대방의 요구 사항을 간단하게 먼저 구현을 해보자.

⇒ 이렇게 간단히 만들다 보면 표면적으로 들어나지 않던 프로세스가 눈에 보일 수 있다.

⇒ 이를 통해 기획을 바꿔서 더 좋은 방향으로 이끌 수도 있다.

이후 원칙들은 성능적인 부분에 있어서 추정치를 요구하는 부분이라서 일단 여기까지 기억하고 적용해보면 좋을 것 같다.

그리고 프로젝트 일정 산출과 관련해서는 이미 한번 논의를 해본 적이 있기 때문에 가볍게 넘어간다.

### 끝으로

2장은 정말 너무 어려웠다. 그냥 어려웠다. 특히 모르는 개념이 너무 많이 등장해서 처음 읽었을 때는 진짜 멍 때리면서 읽었던 것 같고 2번째 읽었을 때는 그래도 그나마 이해가 될듯 말듯 하다가 3번째 읽었을 때 드디어 “나는 모른다”라는 결론(?)에 도달했다.

너무 피상적으로 와닿는 개념들을 어떻게든 이해해보려 노력을 할 수 있는 만큼 해보았지만 역시 아직은 깊이가 얕은 것 같다. 그렇다고 좌절을 하기 보다 차근차근 내공을 쌓아올려서 언젠가 다시 이 책을 다시 읽고 또 오늘 남기는 이 글을 읽었을 때 다른 관점으로 이 책을 볼 수 있기를 바란다.

### 책을 읽으면서 알게 된 개념 정리

**데코레이터 패턴**

[[Design Pattern] 데코레이터 패턴이란 - Heee's Development Blog](https://gmlwjd9405.github.io/2018/07/09/decorator-pattern.html)

**전략 패턴**

[[디자인패턴] 전략 패턴 ( Strategy Pattern )](https://victorydntmd.tistory.com/m/292)

**위임 vs 상속**

위임은 객체의 행위를 위임 관계에 있는 객체에 넘긴다는 뜻

다른 객체의 행위가 필요할 때 위임이 아니라 상속을 하게 되면 해당 객체의 존재 자체가 변하기 때문에 단일 책임 원칙을 위해 할 여지가 높다