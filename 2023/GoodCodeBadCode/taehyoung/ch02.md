# Ch2. 추상화 계층

## 중요문장
1. 코드를 구성하는 방법은 코드 품질의 기본적인 측면 중 하나이며, 코드를 잘 구성한다는 것은 간결한 추상화 계층을 만드는 것으로 귀결될 때가 많다.
2. 소프트웨어 엔지니어로서 문제를 해결할 때 이것이(어떤 문제를 하위 문제로 계속해서 나누어 내려가면서 추상화 계층을 만드는 것) 목표가 되어야한다. 비록 문제가 엄청나게 복잡할지라도 하위 문제들을 식별하고 올바른 추상화 계층을 만듦으로써 그 복잡한 문제를 쉽게 다룰 수 있다.
3. 테스트 용이성 - 코드가 추상화 계층으로 꺠끗하게 분할되면 각 하위 문제에 대한 해결책을 완벽하게 테스트 하는 것이 훨씬 쉬워진다.
4. 코드를 API의 관점에서 생각하면 추상화 계층을 명확하게 만드는데 도움이 된다.
5. 각 함수에 포함된 코드가 하나의 잘 써진 짧은 문장처럼 읽히면 이상적이다.
6. 하위문제를 해결하는 것이 원래 문제와는 다른 관심사인지 아니면 본질적으로 원래 문제의 일부분으로 간주하여야 하는지에 대해서는 의견이 다르다.
7. 계층이 너무 두꺼운지 여부를 결정해주는 단 하나의 규칙이나 조언은 존재하지 않는다. 왜냐하면 계층을 몇 개로 나눌지는 해결하려고 하는 실제 현실의 문제에 달려 있기 때문이다. 최선의 조언은 자신이 만든 계층이 코드의 가독성을 높이고, 재사용할 수 있고, 일반화할 수 있으며, 모듈화되고, 테스트를 용이하게 하는지를 스스로 판단하고 신중하게 생각해보는 것이다.

## 내 생각들
1. 각각 사람마다 읽기 좋은 코드를 작성하기 위한 코드 구성 방법이 다르겠지만, 대개의 경우는 객체지향 원칙들과 패턴들을 활용하여서, 추상화레벨을 맞추려는 시도가 많은데, 나의 경우는 반대로 추상화 레벨을 맞춰주는 것을 시작해야하고, 이 과정에서 객체지향 원칙들과 패턴들을 적용하면서, 좋은 코드가 구성이 만들어진다고 생각한다
2. 최근 들어서, 문서화를 잘하는 것, 코드를 잘 짜는 것은 관계가 매우 깊다는 생각이 든다. 3가지 모두 결국 어떤 문제 혹은 상황을 파악하고, 분류해서 구조를 잡는 과정으로 볼 수 있는데, 개인적인 경험으로 문서화를 잘하는 사람일 수록 코드도 비슷한 경향이 있었던 것 같다.
3. 어떤 클래스의 테스트가 용이 하지 않는 경우는 예상 된 행동이 무엇인지 파악하기(코드가 복잡해서..) 어렵거나 그 경우의 수가 너무 많을 때 이다. 추상화를 잘 나누었을 때, 테스트 용이성이 증가하는 이유는 내 생각에 추상화 레벨을 맞추는 과정에서 객체지향 원칙을 무의식적으로 지키게 되는데, 각각이 SRP원칙을 지키고 있기에 코드가 복잡할 일도 없고 그럼으로 예상된 행동도 파악하기 쉽기 때문이다
4. 내 경우에 클라이언트 - 서버 간의 통신을 위한 HTTP API를 설계할 때는 책에서 말한대로, 공개해야할 퍼플릭 인터페이스와 감춰야할 정보들을 표현하는 것을 익숙하게 잘 처리하는 것 같은데, 비즈니스 로직 설계 시, 각 클래스 간의 통신 에서는 API의 관점에서 크게 생각을 해보지 못했던 것 같은데, 좋은 팁인 것 같다.
5. 파이썬 코드를 작성하다보면, 함수 하나가 너무 많은 책임을 가지고 있는 경우가 많아진다 언어 상에서 크게 제약이 없기 때문에 꼭 그렇게 하지 말란 법은 없다. 개인적으론 로직이 복잡하면 복잡할 수록 그 단점이 더 크게 드러난다고 생각한다. 최근에 OOP, FP 등 책을 보면서 느낀점은 복잡성을 줄이는데 이런 패러다임들을 학습하고 고민해서 내 코드에 적용해보면 더 좋지 않을까 라는 생각을 많이한다 단순하게 그냥 OOP 개념 배워보고, FP 개념 배워보고 하는게 아닌, 내 코드의 추상화를 어떻게 더 효율적이고 효과적으로해서 내 코드의 구조를 개선 시킬것인지에 대한 관점에서 접근해보면 좋을 것 같다.
6. 개인적으로 클래스의 책임을 나눌 때, 정말로 딱 1개의 책임을 가질 수 있도록, 최대한 작게 나누는 것으로 설계하는 편이다. 각 사람마다 경험의 차이로 인해서 나누는 기준이 다를 순 있을 것 같다 내 경우에는 작게 나누는 것보다 크게 나눴을 때 문제되는 경우에 다시 나눠야 하는 경우가 많았던 경험이 많아서 작게 나누는 것을 훨씬더 선호 한다
7. 위 중요문장 7번에 나온, 조언 내용은 머릿속에서 명시적으로 생각지 못하고 무의식중에 결정했었던 사안인데, 회사 업무 시에도 두고두고 활용하면 좋을 것 같다. 

## 참고
1. 제가 최근에 [쏙쏙 들어오는 함수형 코딩](https://www.aladin.co.kr/shop/wproduct.aspx?ItemId=292349292) 을 읽었는데요 함수형 패러다임에 대해서 차근차근히 설명해주는데, 큰 맥락에서 좋은코드, 나쁜코드 책에서 말하는 좋은 코드와 그 구조에 대해서 매우 쉽고 재밌으면서도 어느정도 난이도도 있게 설명해줍니다. 함수형 패러다임에서는 좋은 코드 품질을 위해서, 어떤 개념들을 활용을 하는 구나? 라는 것을 알 수 있었습니다. 제목만 봐서는 중,고등학생 문제집(?) 처럼 보이지만 저에게 아주 큰 인사이트를 줬던 책이라서 추천 해봅니다


## 질문
1. 추상화 계층 제대로 나누지 않았을 때 생길 수 있는 흔한 문제는 이게 도대체 무엇을 하는 것인지 파악할 수 없는 것 입니다. 당연하게도 테스트를 작성하기 힘들고, 버그가 생길 가능성도 많아집니다 각각 주니어 시절 때, 이런 코드를 작성했거나 주변에서도 많이 보았을 것 같은데 경험담이 있다면 공유해보면 좋을 것 같습니다